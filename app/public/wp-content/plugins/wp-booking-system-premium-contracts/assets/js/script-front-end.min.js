function wpbs_resize_signature_pad($pad){var canvas=$pad.find("canvas").get(0);canvas.width=$pad.find("canvas").width(),canvas.height=$pad.find("canvas").height()}$=jQuery.noConflict(),$(document).ready((function(){var wpbs_signature_pad_width;function wpbs_initialize_signature_pad($pad){if($(".wpbs-signature-pad").length){var canvas=$pad.find("canvas").get(0),signaturePad=new SignaturePad(canvas);return signaturePad.addEventListener("endStroke",()=>{$pad.addClass("has-signature"),data={data:signaturePad.toData(),dataURL:wpbs_crop_signature_canvas($pad.find("canvas").get(0))},$pad.find("input").val(JSON.stringify(data))}),wpbs_signature_pad_width=$pad.width(),wpbs_resize_signature_pad($pad),signaturePad}}$(".wpbs-signature-pad").each((function(){$pad=$(this),wpbs_initialize_signature_pad($pad)})),$(document).on("wpbs_form_updated",(function(e,$calendar_wrapper){var $pad=$calendar_wrapper.find(".wpbs-signature-pad");signaturePad=wpbs_initialize_signature_pad($pad),$pad.find("input").val()&&($pad.addClass("has-signature"),data=JSON.parse($pad.find("input").val()),signaturePad.fromData(data.data))})),$(document).on("click",".wpbs-clear-signature",(function(e){e.preventDefault(),$pad=$(this).parents(".wpbs-signature-pad"),$pad.removeClass("has-signature"),signaturePad=wpbs_initialize_signature_pad($pad),signaturePad.clear(),$pad.find("input").val("")})),$(window).on("resize",(function(){$(".wpbs-signature-pad").each((function(){$pad=$(this),$pad.width()!=wpbs_signature_pad_width&&(signaturePad=wpbs_initialize_signature_pad($pad),signaturePad.clear(),$pad.removeClass("has-signature"),$pad.find("input").val(""),wpbs_signature_pad_width=$pad.width())}))}))}));